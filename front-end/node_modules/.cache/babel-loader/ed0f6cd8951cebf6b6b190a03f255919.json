{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js!/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/colin/Workspace/src/platone-frontend/src/components/page/ContractDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/components/page/ContractDetail.vue","mtime":1600912718106},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { dataUrl, apiServerUrl } from \"../../config\";\nexport default {\n  data: function data() {\n    return {\n      contract: {\n        \"name\": \"\",\n        \"address\": \"\",\n        \"creator\": \"\",\n        \"tx_hash\": \"\",\n        \"timestamp\": \"\",\n        \"code\": \"\"\n      }\n    };\n  },\n  props: ['addr'],\n  watch: {\n    '$route': function $route(to, from) {\n      this.getData();\n    }\n  },\n  methods: {\n    getData: function getData() {\n      var _this = this;\n\n      this.axios.get(dataUrl + '/contract/' + this.addr).then(function (res) {\n        _this.contract = res.data;\n        console.log(_this.items);\n      }).catch(function (res) {\n        console.log(res);\n      });\n    },\n    froze: function froze() {\n      var _this2 = this;\n\n      this.$confirm(this.$t('i18n.confirmFroze'), '', {\n        confirmButtonText: this.$t('i18n.confirm'),\n        cancelButtonText: this.$t('i18n.cancel'),\n        type: 'warning'\n      }).then(function () {\n        _this2.doFroze();\n      });\n    },\n    doFroze: function doFroze() {\n      var _this3 = this;\n\n      this.axios.get(apiServerUrl + '/superadmin/firewall/open', {\n        params: {\n          Address: this.contract.address\n        }\n      }).then(function (res) {\n        _this3.$message({\n          type: 'success',\n          message: _this3.$t('i18n.submitSuccess')\n        });\n      }).catch(function (res) {\n        _this3.$message({\n          type: 'error',\n          message: _this3.$t('i18n.submitFailed')\n        });\n      });\n    }\n  },\n  computed: {\n    items: function items() {\n      return [{\n        id: 1,\n        content: this.$t('i18n.scNameIndro'),\n        field: \"Contract Name:\",\n        value: this.contract.name\n      }, {\n        id: 2,\n        content: this.$t('i18n.scCreatorIndro'),\n        field: \"Contract Creator:\",\n        value: this.contract.creator,\n        value2: this.contract.tx_hash\n      }, {\n        id: 3,\n        content: this.$t('i18n.scCodeIndro'),\n        field: \"Codes:\",\n        value: this.contract.code\n      }];\n    },\n    isAdmin: function isAdmin() {\n      var role = localStorage.getItem('ms_userrole');\n      return role == \"superadmin\";\n    }\n  },\n  mounted: function mounted() {\n    this.getData();\n  }\n};",{"version":3,"sources":["ContractDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n    <p class=\"title_bn\">Contract {{addr}}</p>\n    <el-card shadow=\"hover\" class=\"card_content\"> \n    <div v-for=\"item in items\" v-bind:key=\"item.id\">\n        <el-row :gutter=\"20\">\n            <el-col :span=\"4\">\n                <el-popover\n                    placement=\"top-start\"\n                    width=\"200\"\n                    trigger=\"hover\"\n                    :content=\"item.content\">\n                    <i class=\"el-icon-lx-question\" slot=\"reference\"></i>\n                </el-popover>\n                {{item.field}}\n            </el-col>\n\n            <el-col :span=\"20\" >\n                <!-- normal -->\n                <span v-if = \"item.id != 2 && item.id != 3\">{{item.value}}</span>     \n\n                <!-- contract creator -->\n                <div v-if = \"item.id == 2\">\n                    <router-link :to = \"'/address/' + item.value + '/txs'\" >{{item.value}}</router-link>\n                    <span style=\"padding-left:10px;padding-right:10px\">at txn</span>\n                    <router-link :to = \"'/tx/' + item.value2\"  >{{item.value2}}</router-link>\n                </div>\n\n                <!-- code -->\n                <div v-if = \"item.id == 3\">\n                    <el-input type=\"textarea\" :rows=\"8\" v-model=\"item.value\" disabled></el-input>\n                </div>\n            </el-col>\n        </el-row>\n        <hr class =\"hr_space\">\n    </div>\n    <div>\n        <el-button type=\"primary\" @click=\"froze\" v-if=\"isAdmin\">{{$t('i18n.frozeSC')}}</el-button>\n    </div>\n    </el-card>\n</div>\n</template>\n\n<script>\nimport {dataUrl,apiServerUrl} from '../../config'\nexport default {\n     data: function() {\n        return {\n            contract:{\n                \"name\":\"\",\n                \"address\":\"\",\n                \"creator\":\"\",\n                \"tx_hash\":\"\",\n                \"timestamp\":\"\",\n                \"code\":\"\"\n            }\n        } \n     },\n    props: ['addr'],\n    watch: {\n        '$route' (to, from) {\n            this.getData()\n        }\n    },\n    methods:{\n        getData(){\n            this.axios.get(dataUrl + '/contract/' + this.addr,\n            ).then(res => {\n                this.contract = res.data;\n                console.log(this.items)\n            }).catch(res => {\n                console.log(res);\n            });\n        },\n        froze(){\n            this.$confirm(this.$t('i18n.confirmFroze'), '', {\n                confirmButtonText: this.$t('i18n.confirm'),\n                cancelButtonText: this.$t('i18n.cancel'),\n                type: 'warning'\n                }).then(() => {\n                    this.doFroze();\n                })\n        },\n        doFroze(){\n            this.axios.get(apiServerUrl + '/superadmin/firewall/open',{\n                params: {\n                    Address:this.contract.address\n                }\n            }).then(res => {\n                this.$message({\n                    type: 'success',\n                    message: this.$t('i18n.submitSuccess')\n                });\n            }).catch(res => {\n                this.$message({\n                    type: 'error',\n                    message: this.$t('i18n.submitFailed')\n                });\n            });\n        }\n    },\n    computed :{\n        items:function(){\n            return [\n                {\n                    id:1,\n                    content:this.$t('i18n.scNameIndro'),\n                    field:\"Contract Name:\",\n                    value:this.contract.name\n                },\n                {\n                    id:2,\n                    content:this.$t('i18n.scCreatorIndro'),\n                    field:\"Contract Creator:\",\n                    value:this.contract.creator,\n                    value2:this.contract.tx_hash\n                },\n                {\n                    id:3,\n                    content:this.$t('i18n.scCodeIndro'),\n                    field:\"Codes:\",\n                    value:this.contract.code\n                }\n            ]\n        },\n        isAdmin:function(){\n            let role = localStorage.getItem('ms_userrole');\n            return role == \"superadmin\"\n        }\n    },\n    mounted:function() {\n        this.getData()\n    }\n}\n</script>\n<style scoped>\n.title_bn{\n    color:#6c757e;\n    line-height:1.7;\n    margin-top:20px;\n    margin-left:10px;\n}\n.card_content{\n    margin-top:20px;\n    margin-right:10px;\n}\n.hr_space{\n    margin-top: .75rem;\n    margin-bottom: .75rem;\n    opacity: .75;\n    border-top:1px solid #e7eaf3;\n    border-bottom:0px;\n    border-left: 0px;\n    border-right: 0px;\n}\n.icon-li-content{\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n\na{\n    color: #3498db;\n}\n\n</style>"],"sourceRoot":"src/components/page"}]}