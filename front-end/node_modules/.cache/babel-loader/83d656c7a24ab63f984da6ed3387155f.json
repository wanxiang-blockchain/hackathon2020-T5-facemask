{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js!/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/colin/Workspace/src/platone-frontend/src/components/page/Params.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/components/page/Params.vue","mtime":1600857878421},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { dataUrl, apiServerUrl } from \"../../config\";\nexport default {\n  data: function data() {\n    return {\n      form: {\n        gasContractName: '',\n        allowEmpty: 1 == 0 ? false : true,\n        txGasLimit: 0,\n        bkGasLimit: 0,\n        checkContractDeployPermission: 1 == 0 ? false : true,\n        checkContractAfterDeploy: 1 == 0 ? false : true,\n        txConsumeGas: 1 == 0 ? false : true,\n        fw: false\n      }\n    };\n  },\n  methods: {\n    getData: function getData() {\n      var _this = this;\n\n      this.axios.get(apiServerUrl + '/superadmin/systemconfig/getsystemconfig').then(function (res) {\n        if (res && res.data) {\n          var resData = JSON.parse(res.data.data);\n          console.log(resData);\n          _this.form.gasContractName = resData.gasContractName.replace('\"\"', '');\n          _this.form.txGasLimit = parseInt(resData.txGasLimit);\n          _this.form.bkGasLimit = parseInt(resData.blockGasLimit);\n          _this.form.allowEmpty = resData.isProduceEmptyBlock == \"1\";\n          _this.form.checkContractDeployPermission = resData.isCheckDeployPermission == \"1\";\n          _this.form.checkContractAfterDeploy = resData.isApproveDeployedContract == \"1\";\n          _this.form.txConsumeGas = resData.isUseGas == \"1\";\n        }\n      }).catch(function (res) {\n        console.log(res);\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      this.axios.get(apiServerUrl + '/superadmin/systemconfig/getsystemconfig').then(function (res) {\n        if (res && res.data) {\n          var resData = JSON.parse(res.data.data);\n          var setparams = {};\n\n          if (_this2.form.gasContractName != resData.gasContractName.replace('\"\"', '')) {\n            setparams.GasContractName = _this2.form.gasContractName;\n          }\n\n          if (_this2.form.txGasLimit != parseInt(resData.txGasLimit)) {\n            setparams.TxGasLimit = _this2.form.txGasLimit;\n          }\n\n          if (_this2.form.bkGasLimit != parseInt(resData.blockGasLimit)) {\n            setparams.BlockGasLimit = _this2.form.bkGasLimit;\n          }\n\n          if (_this2.form.allowEmpty != resData.isProduceEmptyBlock == \"1\") {\n            setparams.IsProduceEmptyBlock = _this2.form.allowEmpty ? 1 : 0;\n          }\n\n          if (_this2.form.checkContractDeployPermission != resData.isCheckDeployPermission == \"1\") {\n            setparams.IsCheckDeployPermission = _this2.form.checkContractDeployPermission ? 1 : 0;\n          }\n\n          if (_this2.form.checkContractAfterDeploy != resData.isApproveDeployedContract == \"1\") {\n            setparams.IsApproveDeployedContract = _this2.form.checkContractAfterDeploy ? 1 : 0;\n          }\n\n          if (_this2.form.txConsumeGas != resData.isUseGas == \"1\") {\n            setparams.IsUseGas = _this2.form.txConsumeGas ? 1 : 0;\n          }\n\n          if (_this2.form.txGasLimit >= _this2.form.bkGasLimit) {\n            _this2.$message.error(\"txGasLimit must not bigger than bkGasLimit\");\n          }\n\n          _this2.axios.get(apiServerUrl + '/superadmin/systemconfig/setsystemconfig', {\n            params: setparams\n          }).then(function (res) {\n            console.log(res);\n\n            _this2.$message.success(_this2.$t('i18n.submitSuccess'));\n          }).catch(function (res) {\n            _this2.$message.error(_this2.$t('i18n.submitFailed'));\n          });\n        }\n      }).catch(function (res) {\n        console.log(res);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getData();\n    setTimeout(this.getData, 1000);\n  }\n};",{"version":3,"sources":["Params.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"form-box\">\n        <el-form ref=\"form\" :model=\"form\" label-width=\"150px\"  :label-position=\"'left'\" style=\"display:block\">\n            <el-form-item :label=\"$t('i18n.gasConsumeTokenContractName')\" >\n                <el-input v-model=\"form.gasContractName\" style=\"width:400px\"></el-input>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.txConsumeGas')\" label-width=\"150px\">\n                <el-switch v-model=\"form.txConsumeGas\"></el-switch>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.txGasLimit')\"  label-width=\"110px\">\n                <el-slider v-model=\"form.txGasLimit\" :min=\"0\" :max=\"2000000000\" show-input input-size=\"mini\" style=\"width:400px\"></el-slider>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.bkGasLimit')\"  label-width=\"110px\">\n                <el-slider v-model=\"form.bkGasLimit\" :min=\"0\" :max=\"20000000000\" show-input input-size=\"mini\" style=\"width:400px\"></el-slider>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.checkDeployPermission')\"  style=\"display:inline-block\"  label-width=\"150px\">\n                <el-switch v-model=\"form.checkContractDeployPermission\"></el-switch>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.reviewAfterDeploy')\" style=\"display:inline-block;margin-left:50px\"  label-width=\"200px\">\n                <el-switch v-model=\"form.checkContractAfterDeploy\"></el-switch>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.isEmptyBlock')\"  style=\"display:inline-block\"   label-width=\"150px\">\n                <el-switch v-model=\"form.allowEmpty\"></el-switch>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.firewall')\" style=\"display:inline-block;margin-left:50px\"  label-width=\"150px\">\n                <el-switch v-model=\"form.fw\" disabled></el-switch>\n            </el-form-item>\n            <el-form-item style=\"margin-top:15px\" label-width=\"230px\">\n                <el-button type=\"primary\" @click=\"onSubmit\">{{$t('i18n.submitChanges')}}</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport {dataUrl,apiServerUrl} from '../../config'\nexport default {\n    data() {\n        return {\n            form: {\n                gasContractName: '',\n                allowEmpty:1==0?false:true,\n                txGasLimit:0,\n                bkGasLimit:0,\n                checkContractDeployPermission:1==0?false:true,\n                checkContractAfterDeploy:1==0?false:true,\n                txConsumeGas:1==0?false:true,\n                fw:false\n            },\n        };\n    },\n    methods: {\n        getData(){\n            this.axios.get(apiServerUrl + '/superadmin/systemconfig/getsystemconfig')\n            .then(res => {\n                if (res && res.data) {\n                   let resData = JSON.parse(res.data.data)\n                   console.log(resData)\n                   this.form.gasContractName = resData.gasContractName.replace('\"\"','');\n                   this.form.txGasLimit = parseInt(resData.txGasLimit);\n                   this.form.bkGasLimit = parseInt(resData.blockGasLimit);\n\n                   this.form.allowEmpty = resData.isProduceEmptyBlock == \"1\";\n                   this.form.checkContractDeployPermission = resData.isCheckDeployPermission == \"1\";\n                   this.form.checkContractAfterDeploy = resData.isApproveDeployedContract == \"1\";\n                   this.form.txConsumeGas = resData.isUseGas == \"1\";\n                }\n            }).catch(res => {\n                console.log(res)\n            })\n        },\n        onSubmit() {\n            this.axios.get(apiServerUrl + '/superadmin/systemconfig/getsystemconfig')\n            .then(res => {\n                if (res && res.data) {\n                    let resData = JSON.parse(res.data.data)\n                    let setparams = {}\n\n                    if (this.form.gasContractName != resData.gasContractName.replace('\"\"','')){\n                        setparams.GasContractName = this.form.gasContractName;\n                    }\n                    if (this.form.txGasLimit != parseInt(resData.txGasLimit)){\n                        setparams.TxGasLimit = this.form.txGasLimit;\n                    }\n                    if (this.form.bkGasLimit != parseInt(resData.blockGasLimit)){\n                        setparams.BlockGasLimit = this.form.bkGasLimit;\n                    }\n                    if (this.form.allowEmpty != resData.isProduceEmptyBlock == \"1\"){\n                        setparams.IsProduceEmptyBlock = this.form.allowEmpty?1:0;\n                    }\n                    if (this.form.checkContractDeployPermission != resData.isCheckDeployPermission == \"1\"){\n                        setparams.IsCheckDeployPermission = this.form.checkContractDeployPermission?1:0;\n                    }\n                    if (this.form.checkContractAfterDeploy != resData.isApproveDeployedContract == \"1\"){\n                        setparams.IsApproveDeployedContract = this.form.checkContractAfterDeploy?1:0;\n                    }\n                    if (this.form.txConsumeGas != resData.isUseGas == \"1\"){\n                        setparams.IsUseGas = this.form.txConsumeGas?1:0;\n                    }\n\n                    if (this.form.txGasLimit >= this.form.bkGasLimit) {\n                        this.$message.error(\"txGasLimit must not bigger than bkGasLimit\");\n                    }\n\n                    this.axios.get(apiServerUrl + '/superadmin/systemconfig/setsystemconfig',{\n                        params:setparams\n                    }).then(res => {\n                        console.log(res)\n                        this.$message.success(this.$t('i18n.submitSuccess'));\n                    }).catch(res =>{\n                        this.$message.error(this.$t('i18n.submitFailed'));\n                    })\n                }\n            }).catch(res => {\n                console.log(res)\n            })\n        }\n    },\n    mounted:function() {\n        this.getData();\n        setTimeout(this.getData,1000)\n    },\n};\n</script>\n<style scoped>\n.form-box >>> .el-input-number--mini .el-input__inner{\n    padding-left: 10px!important;\n    padding-right: 10px;\n}\n.form-box >>> .el-input-number__decrease{\n    width:23px;\n}\n.form-box >>> .el-input-number__increase{\n    width:23px;\n}\n</style>"],"sourceRoot":"src/components/page"}]}