{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js!/home/colin/Workspace/src/platone-frontend/src/main.js","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/main.js","mtime":1600136259932},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"/home/colin/Workspace/src/platone-frontend/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/home/colin/Workspace/src/platone-frontend/node_modules/core-js/modules/es6.promise.js\";\nimport \"/home/colin/Workspace/src/platone-frontend/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/home/colin/Workspace/src/platone-frontend/node_modules/core-js/modules/es7.promise.finally.js\";\nimport Vue from 'vue';\nimport VueCookies from 'vue-cookies';\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport ElementUI from 'element-ui';\nimport VueI18n from 'vue-i18n';\nimport { messages } from \"./components/common/i18n\";\nimport 'element-ui/lib/theme-chalk/index.css';\nimport \"./assets/css/icon.css\";\nimport \"./components/common/directives\";\nimport 'babel-polyfill';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\n\nif (process.env.NODE_ENV == 'development') {\n  require(\"./mock\");\n}\n\nVue.config.productionTip = false;\nVue.use(VueI18n);\n\nvar _i18n = new VueI18n({\n  locale: 'zh',\n  messages: messages\n});\n\nVue.use(ElementUI, {\n  size: 'small',\n  i18n: function i18n(key, value) {\n    return _i18n.t(key, value);\n  }\n});\naxios.defaults.withCredentials = true;\nVue.use(VueAxios, axios);\nVue.use(VueCookies); //使用钩子函数对路由进行权限跳转\n\nrouter.beforeEach(function (to, from, next) {\n  document.title = _i18n.t(to.meta.title) || _i18n.t('i18n.system_name');\n  var role = localStorage.getItem('ms_userrole');\n  var sessionId = window.$cookies.get(\"session_id\");\n\n  if (!sessionId && to.path !== '/login') {\n    next('/login');\n  } else if (to.meta.permission) {\n    // 如果是管理员权限则可进入，这里只是简单的模拟管理员权限而已\n    role === 'superadmin' ? next() : next('/403');\n  } else {\n    // 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\n    if (navigator.userAgent.indexOf('MSIE') > -1 && to.path === '/editor') {\n      Vue.prototype.$alert('vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看', '浏览器不兼容通知', {\n        confirmButtonText: '确定'\n      });\n    } else {\n      next();\n    }\n  }\n});\nnew Vue({\n  router: router,\n  i18n: _i18n,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/home/colin/Workspace/src/platone-frontend/src/main.js"],"names":["Vue","VueCookies","App","router","ElementUI","VueI18n","messages","axios","VueAxios","process","env","NODE_ENV","require","config","productionTip","use","i18n","locale","size","key","value","t","defaults","withCredentials","beforeEach","to","from","next","document","title","meta","role","localStorage","getItem","sessionId","window","$cookies","get","path","permission","navigator","userAgent","indexOf","prototype","$alert","confirmButtonText","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,SAASC,QAAT;AACA,OAAO,sCAAP;AACA;AACA;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,aAA5B,EAA0C;AACtCC,EAAAA,OAAO,UAAP;AACH;;AAEDZ,GAAG,CAACa,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEAd,GAAG,CAACe,GAAJ,CAAQV,OAAR;;AACA,IAAMW,KAAI,GAAG,IAAIX,OAAJ,CAAY;AACrBY,EAAAA,MAAM,EAAE,IADa;AAErBX,EAAAA,QAAQ,EAARA;AAFqB,CAAZ,CAAb;;AAKAN,GAAG,CAACe,GAAJ,CAAQX,SAAR,EAAmB;AACfc,EAAAA,IAAI,EAAE,OADS;AAEfF,EAAAA,IAAI,EAAE,cAACG,GAAD,EAAMC,KAAN;AAAA,WAAgBJ,KAAI,CAACK,CAAL,CAAOF,GAAP,EAAYC,KAAZ,CAAhB;AAAA;AAFS,CAAnB;AAKAb,KAAK,CAACe,QAAN,CAAeC,eAAf,GAA+B,IAA/B;AACAvB,GAAG,CAACe,GAAJ,CAAQP,QAAR,EAAiBD,KAAjB;AAEAP,GAAG,CAACe,GAAJ,CAAQd,UAAR,E,CAEA;;AACAE,MAAM,CAACqB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCC,EAAAA,QAAQ,CAACC,KAAT,GAAiBb,KAAI,CAACK,CAAL,CAAOI,EAAE,CAACK,IAAH,CAAQD,KAAf,KAAyBb,KAAI,CAACK,CAAL,CAAO,kBAAP,CAA1C;AACA,MAAMU,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAb;AACA,MAAIC,SAAS,GAAGC,MAAM,CAACC,QAAP,CAAgBC,GAAhB,CAAoB,YAApB,CAAhB;;AAEA,MAAI,CAACH,SAAD,IAAcT,EAAE,CAACa,IAAH,KAAY,QAA9B,EAAwC;AACpCX,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,GAFD,MAEO,IAAIF,EAAE,CAACK,IAAH,CAAQS,UAAZ,EAAwB;AAC3B;AACAR,IAAAA,IAAI,KAAK,YAAT,GAAwBJ,IAAI,EAA5B,GAAiCA,IAAI,CAAC,MAAD,CAArC;AACH,GAHM,MAGA;AACH;AACA,QAAIa,SAAS,CAACC,SAAV,CAAoBC,OAApB,CAA4B,MAA5B,IAAsC,CAAC,CAAvC,IAA4CjB,EAAE,CAACa,IAAH,KAAY,SAA5D,EAAuE;AACnEtC,MAAAA,GAAG,CAAC2C,SAAJ,CAAcC,MAAd,CAAqB,+CAArB,EAAsE,UAAtE,EAAkF;AAC9EC,QAAAA,iBAAiB,EAAE;AAD2D,OAAlF;AAGH,KAJD,MAIO;AACHlB,MAAAA,IAAI;AACP;AACJ;AACJ,CApBD;AAsBA,IAAI3B,GAAJ,CAAQ;AACJG,EAAAA,MAAM,EAANA,MADI;AAEJa,EAAAA,IAAI,EAAJA,KAFI;AAGJ8B,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC7C,GAAD,CAAL;AAAA;AAHL,CAAR,EAIG8C,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue';\r\nimport VueCookies from 'vue-cookies'\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport ElementUI from 'element-ui';\r\nimport VueI18n from 'vue-i18n';\r\nimport { messages } from './components/common/i18n';\r\nimport 'element-ui/lib/theme-chalk/index.css'; \r\nimport './assets/css/icon.css';\r\nimport './components/common/directives';\r\nimport 'babel-polyfill';\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\n\r\nif (process.env.NODE_ENV == 'development'){\r\n    require( './mock');\r\n}\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(VueI18n);\r\nconst i18n = new VueI18n({\r\n    locale: 'zh',\r\n    messages\r\n});\r\n\r\nVue.use(ElementUI, {\r\n    size: 'small',\r\n    i18n: (key, value) => i18n.t(key, value)\r\n});\r\n\r\naxios.defaults.withCredentials=true\r\nVue.use(VueAxios,axios)\r\n\r\nVue.use(VueCookies)\r\n\r\n//使用钩子函数对路由进行权限跳转\r\nrouter.beforeEach((to, from, next) => {\r\n    document.title = i18n.t(to.meta.title) || i18n.t('i18n.system_name');\r\n    const role = localStorage.getItem('ms_userrole');\r\n    let sessionId = window.$cookies.get(\"session_id\")\r\n\r\n    if (!sessionId && to.path !== '/login') {\r\n        next('/login');\r\n    } else if (to.meta.permission) {\r\n        // 如果是管理员权限则可进入，这里只是简单的模拟管理员权限而已\r\n        role === 'superadmin' ? next() : next('/403');\r\n    } else {\r\n        // 简单的判断IE10及以下不进入富文本编辑器，该组件不兼容\r\n        if (navigator.userAgent.indexOf('MSIE') > -1 && to.path === '/editor') {\r\n            Vue.prototype.$alert('vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看', '浏览器不兼容通知', {\r\n                confirmButtonText: '确定'\r\n            });\r\n        } else {\r\n            next();\r\n        }\r\n    }\r\n});\r\n\r\nnew Vue({\r\n    router,\r\n    i18n,\r\n    render: h => h(App)\r\n}).$mount('#app');\r\n"]}]}