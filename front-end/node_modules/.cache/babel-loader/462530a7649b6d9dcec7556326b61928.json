{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/thread-loader/dist/cjs.js!/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js!/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/colin/Workspace/src/platone-frontend/src/components/page/Blocks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/components/page/Blocks.vue","mtime":1599011587644},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { dataUrl } from \"../../config\";\nexport default {\n  data: function data() {\n    return {\n      param: {\n        info: ''\n      },\n      bkList: [],\n      currentPage: 1,\n      PageSize: 10,\n      totalCount: 100\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n\n      this.$refs.search.validate(function (valid) {\n        if (valid) {\n          _this.$message.success('搜索');\n\n          _this.$router.push('/');\n        } else {\n          _this.$message.error(_this.$t(\"i18n.searchInfo\"));\n\n          return false;\n        }\n      });\n    },\n    getData: function getData() {\n      var _this2 = this;\n\n      this.axios.get(dataUrl + '/blocks', {\n        params: {\n          page_index: this.currentPage,\n          page_size: this.PageSize\n        }\n      }).then(function (res) {\n        _this2.bkList = res.data.items;\n        _this2.totalCount = res.data.total;\n      }).catch(function (res) {\n        alert('wrong bkdata');\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getData();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.PageSize = val;\n      this.getData();\n    }\n  },\n  mounted: function mounted() {\n    this.getData();\n    setInterval(this.getData(), 2000);\n  },\n  computed: {\n    rules: function rules() {\n      return {\n        info: [{\n          required: true,\n          message: this.$t(\"i18n.searchInfo\"),\n          trigger: 'blur'\n        }]\n      };\n    }\n  }\n};",{"version":3,"sources":["Blocks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OADA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,CALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA,CAAA,iBAAA,CAAA;;AACA,iBAAA,KAAA;AACA;AACA,OARA;AASA,KAXA;AAYA,IAAA,OAZA,qBAYA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,OAAA,GAAA,SAAA,EAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,UAAA,EAAA,KAAA,WADA;AAEA,UAAA,SAAA,EAAA,KAAA;AAFA;AADA,OAAA,EAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OARA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA,CAAA;AACA,OAVA;AAWA,KAxBA;AAyBA,IAAA,mBAzBA,+BAyBA,GAzBA,EAyBA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,WAAA,OAAA;AACA,KA5BA;AA6BA,IAAA,gBA7BA,4BA6BA,GA7BA,EA6BA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,OAAA;AACA;AAhCA,GAZA;AA8CA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,OAAA;AACA,IAAA,WAAA,CAAA,KAAA,OAAA,EAAA,EAAA,IAAA,CAAA;AACA,GAjDA;AAkDA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBAEA;AACA,aAAA;AACA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,KAAA,EAAA,CAAA,iBAAA,CAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AADA,OAAA;AAGA;AANA;AAlDA,CAAA","sourcesContent":["<template>\n<div class=\"blocks\">\n    <el-form :model=\"param\" :rules=\"rules\" ref=\"search\" label-width=\"0px\" class=\"ms-content\">\n        <el-form-item prop=\"info\">\n            <el-input v-model=\"param.info\" placeholder=\"Search by Block Number/Hash\" @keyup.enter.native=\"submitForm()\">\n                <el-button slot=\"prepend\" icon=\"el-icon-lx-search\"></el-button>\n            </el-input>\n        </el-form-item>\n    </el-form>\n    <div style=\"padding:0px 30px 10px 30px\">\n        <el-card shadow=\"hover\" >\n            <el-table :data=\"bkList\" >\n            <el-table-column :label=\"`${$t('i18n.bkh')}`\" :width=\"80\">\n                <template slot-scope=\"scope\"><router-link :to = \"'/block/' + scope.row.height\">{{scope.row.height}}</router-link></template>\n            </el-table-column>\n            <el-table-column :label=\"`${$t('i18n.miner')}`\" >\n                <template slot-scope=\"scope\"><router-link :to = \"'/blocks/' + scope.row.proposer\">{{scope.row.proposer}}</router-link></template>\n            </el-table-column>\n            <el-table-column :label=\"`${$t('i18n.txcnt')}`\"  :width=\"150\">\n                <template slot-scope=\"scope\"><router-link :to = \"'/txs/' + scope.row.tx_amount\">{{scope.row.tx_amount}}</router-link></template>\n            </el-table-column>\n            <el-table-column :label=\"`${$t('i18n.gasUsed')}`\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.gas_used}}</span>\n                    <span>{{'('+ (scope.row.gas_used/scope.row.gas_limit*100).toFixed(4) + '%)'}}</span>\n                    <el-progress :show-text=\"false\" :stroke-width=\"5\" :percentage=\"scope.row.gas_used/scope.row.gas_limit*100\" ></el-progress>\n                </template>    \n            </el-table-column>\n             <el-table-column :label=\"`${$t('i18n.size')}`\"  :width=\"150\"> \n                 <template slot-scope=\"scope\">\n                    <span>{{scope.row.size + ' Bytes'}}</span>\n                </template>    \n             </el-table-column>\n            <el-table-column :label=\"`${$t('i18n.time')}`\"  :width=\"150\"> \n                <template slot-scope=\"scope\">\n                    <span>{{new Date(scope.row.timestamp * 1000).toLocaleString()}}</span>\n                </template>  \n            </el-table-column>\n            </el-table>\n            <el-pagination  \n                @current-change=\"handleCurrentChange\" \n                @size-change=\"handleSizeChange\"\n                :current-page=\"currentPage\" \n                :page-size=\"PageSize\" layout=\"total, sizes, prev, pager, next, jumper\" \n                :total=\"totalCount\" style=\"padding-top:10px\">\n              </el-pagination>\n        </el-card>\n    </div>\n</div>\n    \n</template>\n\n<script>\nimport {dataUrl} from '../../config'\nexport default {\n    data: function() {\n        return {\n            param: {\n                info: '',\n            },\n            bkList:[],\n            currentPage:1,\n            PageSize:10,\n            totalCount:100\n        }\n    },\n    methods: {\n        submitForm() {\n            this.$refs.search.validate(valid => {\n                if (valid) {\n                    this.$message.success('搜索');\n                    this.$router.push('/');\n                } else {\n                    this.$message.error(this.$t(\"i18n.searchInfo\"));\n                    return false;\n                }\n            });\n        },\n        getData(){\n            this.axios.get(dataUrl + '/blocks',{\n                    params: {\n                    page_index: this.currentPage,\n                    page_size: this.PageSize\n                    }\n                }).then(res => {\n                this.bkList = res.data.items;\n                this.totalCount = res.data.total;\n            }).catch(res => {\n                alert('wrong bkdata');\n            });\n        },\n        handleCurrentChange(val){\n            this.currentPage = val;\n            this.getData();\n        },\n        handleSizeChange(val){\n            this.PageSize = val;\n             this.getData();\n        }\n    },\n    mounted:function() {\n        this.getData()\n        setInterval(this.getData(),2000)\n    },\n    computed:{\n        rules()\n        {\n            return {\n                info: [{ required: true, message: this.$t(\"i18n.searchInfo\"), trigger: 'blur' }]\n            }    \n        },\n    }\n};\n</script>\n\n<style scoped>\n.ms-content {\n    padding: 30px 30px 10px 30px;\n}\n\n.btn{\n    width:100%\n}\n\na{\n    color: #3498db;\n}\n\n</style>\n\n"],"sourceRoot":"src/components/page"}]}