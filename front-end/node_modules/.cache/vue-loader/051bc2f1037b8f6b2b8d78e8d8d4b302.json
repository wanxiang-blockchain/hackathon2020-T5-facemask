{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/colin/Workspace/src/platone-frontend/src/components/page/Users.vue?vue&type=style&index=0&id=ebe41756&scoped=true&lang=css&","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/components/page/Users.vue","mtime":1598947725866},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ms-content {\n    padding: 30px 30px 10px 30px;\n}\n\n.btn{\n    width:100%\n}\n\na{\n    color: #3498db;\n}\n\n.button-custom{\n    padding:0px;\n    border: 0px;\n}\n",{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n<div>\n    <div slot=\"header\">\n        <span>{{$t('i18n.userList')}}</span>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"openDialog\">{{$t('i18n.add')}}</el-button>\n    </div>\n    <el-scrollbar style=\"height:100%;\">\n    <el-table :data=\"userList\" :max-height=\"height\">\n        <el-table-column :label=\"`${$t('i18n.account')}`\" :width=\"220\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n                 <el-button type=\"text\" @click=\"onRowClick(scope.row)\">{{scope.row.account}}</el-button>\n            </template>\n        </el-table-column>\n        <el-table-column prop=\"role\" :label=\"`${$t('i18n.role')}`\" show-overflow-tooltip ></el-table-column>\n        <el-table-column prop=\"date\" :label=\"`${$t('i18n.createDate')}`\" show-overflow-tooltip ></el-table-column>\n    </el-table>\n    </el-scrollbar>\n\n    <el-dialog :title=\"$t('i18n.user')\" :visible.sync=\"dialogFormVisible\">\n        <el-form :model=\"form\" label-width=\"100px\"  :label-position=\"'left'\">\n            <el-form-item :label=\"$t('i18n.account')\" style=\"width:350px\">\n                <el-input v-model=\"form.user\" placeholder=\"\"></el-input>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.password')\" style=\"width:350px\">\n                <el-input v-model=\"form.password\" placeholder=\"\"></el-input>\n            </el-form-item>\n            <el-form-item :label=\"$t('i18n.role')\">\n                <el-select v-model=\"form.role\" placeholder=\"\">\n                    <el-option key=\"user\" :label=\"$t('i18n.user')\" value=\"user\"></el-option>\n                    <el-option key=\"admin\" :label=\"$t('i18n.admin')\" value=\"admin\"></el-option>\n                </el-select>\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"cancel\">{{$t('i18n.cancel')}}</el-button>\n            <el-button type=\"primary\" @click=\"submitForm\">{{$t('i18n.confirm')}}</el-button>\n        </div>\n    </el-dialog>\n</div>\n</template>\n\n<script>\nimport {dataUrl} from '../../config'\nexport default {\n    data: function() {\n        return {\n            userList:[],\n            dialogFormVisible:false,\n            form:{\n                user:\"\",\n                password:\"\",\n                role:\"user\"\n            }\n        }\n    },\n    methods: {\n        getData(){\n            this.axios.get(dataUrl + '/api/userdata',{\n                    params: {\n                    offset: (this.currentPage - 1) * this.PageSize,\n                    size: this.PageSize\n                    }\n                }).then(res => {\n                this.userList = res.data.userList;\n            }).catch(res => {\n                alert('wrong userdata');\n            });\n        },\n        handleCurrentChange(val){\n            this.currentPage = val;\n            this.getData();\n        },\n        openDialog(){\n            this.resetForm()\n            this.dialogFormVisible = true\n        },\n        onRowClick(row){\n            this.form = {\n                user:row.account,\n                password:\"\",\n                role:row.role\n            }\n            this.dialogFormVisible = true\n        },\n        submitForm(){\n            this.resetForm()\n            this.dialogFormVisible = false\n        },\n        cancel(){\n            this.resetForm()\n            this.dialogFormVisible = false\n        },\n        resetForm(){\n            this.form = {\n                user:\"\",\n                password:\"\",\n                role:\"user\"\n            }\n        }\n    },\n    mounted:function() {\n        this.getData()\n        setInterval(this.getData(),2000)\n    },\n    props:{\n        height:{\n            default:270\n        }\n    }\n};\n</script>\n\n<style scoped>\n.ms-content {\n    padding: 30px 30px 10px 30px;\n}\n\n.btn{\n    width:100%\n}\n\na{\n    color: #3498db;\n}\n\n.button-custom{\n    padding:0px;\n    border: 0px;\n}\n</style>\n\n"]}]}