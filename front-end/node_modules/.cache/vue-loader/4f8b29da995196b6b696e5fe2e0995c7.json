{"remainingRequest":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/colin/Workspace/src/platone-frontend/src/components/page/Nodes.vue?vue&type=style&index=0&id=660340a1&scoped=true&lang=css&","dependencies":[{"path":"/home/colin/Workspace/src/platone-frontend/src/components/page/Nodes.vue","mtime":1599724430297},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/colin/Workspace/src/platone-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.node_icon{\n    width:40px;\n    height:40px;\n    background-color:#f0f0f0;\n    text-align: center;\n    line-height: 40px;\n    font-weight:bold;\n    border-radius: 5px;\n    float:left\n}\n\n.node_icon_right{\n    display:inline-block;\n    height:40px;\n    margin-left:5px;\n}\n\n.node_status{\n    width:60px;\n    height: 20px;\n    background-color: dodgerblue;\n    color:white;\n    text-align: center;\n    border-radius: 3px;\n    margin-left: 50px;\n}\n.node-item-error{\n    background-color: crimson;\n}\n.node_key{\n    display: block;\n    overflow:hidden;\n    text-overflow: ellipsis;\n    max-width: 450px;\n}\n\n.node_role{\n    width:70px;\n    height: 20px;\n    background-color: rgba(119,131,143,.1);\n    color:#e6a23c;\n    text-align: center;\n    border-radius: 3px;\n    margin-left: 20px;\n    font-weight: bold;\n    border-top-right-radius: .25rem;\n    border-bottom-right-radius : .25rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius :0;\n    transition: .2s ease-in-out;\n    display: inline-block;\n}\n\n",{"version":3,"sources":["Nodes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Nodes.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n<div>\n    <div slot=\"header\" style=\"margin-bottom:10px\">\n        <span>{{$t('i18n.nodeList')}}</span>\n        <el-button style=\"float: right; padding: 3px 10px\" type=\"text\" v-if=\"showEdit\">{{$t('i18n.addNodeAccess')}}</el-button>\n        <el-button style=\"float: right; padding: 3px 10px\" type=\"text\" v-if=\"showEdit\" @click=\"openDialog\">{{$t('i18n.deployNewNode')}}</el-button>\n    </div>\n\n    <el-scrollbar style=\"height:100%;\">\n    <el-table :data=\"nodeList\" :max-height=\"height\" style=\"width:100%\" :show-header=\"false\">\n    <el-table-column  show-overflow-tooltip>\n        <template v-slot=\"scope\" >\n            <div class=\"node_icon\"><span>Node</span></div>\n            <div class=\"node_icon_right\">\n                <div class=\"node_key\">{{scope.row.name + '(' + scope.row.pub_key + ')'}}</div>\n                <div style=\"display:inline-block\">{{scope.row.external_ip + ':' + scope.row.p2p_port}}</div>\n                <div class = \"node_role\" v-if=\"scope.row.type == 1\">Validator</div>\n            </div>\n        </template>\n    </el-table-column>\n    <el-table-column :width=\"250\" >\n            <template v-slot=\"scope\" ><div class = \"node_status\"  :class=\"{'node-item-error': !scope.row.is_alive}\">{{scope.row.is_alive?\"Normal\":\"Error\"}}</div></template>\n    </el-table-column>    \n    <el-table-column width=\"120\"  v-if=\"showEdit\">\n        <template>\n            <el-button type=\"danger\" @click=\"confirm\">{{$t('i18n.removeNode')}}</el-button>\n        </template>\n    </el-table-column>\n    <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n            <el-button @click=\"start(props.row.pub_key)\">{{$t('i18n.removeNode')}}</el-button>\n        </template>\n    </el-table-column>\n    </el-table>\n    </el-scrollbar>\n\n    <el-dialog :title=\"'Node'\" :visible.sync=\"dialogFormVisible\">\n        <el-form :model=\"form\" label-width=\"150px\"  :label-position=\"'left'\">\n            <el-form-item :label=\"$t('i18n.monitorAddr') + ':'\" style=\"width:800px\">\n                <el-input v-model=\"form.monitorAddr\" :placeholder=\"'address:port'\"></el-input>\n            </el-form-item>\n\n            <el-form-item :label=\"'BootNodes:'\" style=\"width:800px\">\n                <el-input type=\"textarea\" :rows=\"8\" v-model=\"form.bootNodes\" :placeholder=\"'enode://:pubkey@ip:port split by \\',\\''\"></el-input>\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"cancel\">{{$t('i18n.cancel')}}</el-button>\n            <el-button type=\"primary\" @click=\"submitForm\">{{$t('i18n.confirm')}}</el-button>\n        </div>\n    </el-dialog>\n</div>\n</template>\n\n<script>\nimport {dataUrl} from '../../config'\nexport default {\n    data() {\n        return {\n            nodeList: [],\n            dialogFormVisible : false,\n            form:{\n                monitorAddr:'',\n                bootNodes:''\n            }\n        }\n    },\n    methods:{\n        getData(){\n            this.axios.get(dataUrl + '/nodes').then(res => {\n                if (res && res.data) {\n                    this.nodeList = res.data;\n                }\n            }).catch(res => {\n            alert('wrong');\n            })\n        },\n        confirm(){\n            this.$confirm(this.$t('i18n.confirmRemove'), '', {\n            confirmButtonText: this.$t('i18n.confirm'),\n            cancelButtonText: this.$t('i18n.cancel'),\n            type: 'warning'\n            }).then(() => {\n                this.$message({\n                    type: 'success',\n                    message: this.$t('i18n.removeSuccess')\n                });\n            })\n        },\n        openDialog(){\n            this.resetForm()\n            this.dialogFormVisible = true\n        },\n        resetForm(){\n            this.form = {\n                monitorAddr:\"\"\n            }\n        },\n        submitForm(){\n            this.resetForm()\n            this.dialogFormVisible = false\n        },\n        cancel(){\n            this.resetForm()\n            this.dialogFormVisible = false\n        },\n        start(pub_key){\n            alert(pub_key)\n        }\n    },\n    mounted:function() {\n        this.getData()\n        setInterval(this.getData,5000)\n    },\n    props:{\n        height:{\n            default:270\n        },\n        showEdit :{\n            default:false\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n.node_icon{\n    width:40px;\n    height:40px;\n    background-color:#f0f0f0;\n    text-align: center;\n    line-height: 40px;\n    font-weight:bold;\n    border-radius: 5px;\n    float:left\n}\n\n.node_icon_right{\n    display:inline-block;\n    height:40px;\n    margin-left:5px;\n}\n\n.node_status{\n    width:60px;\n    height: 20px;\n    background-color: dodgerblue;\n    color:white;\n    text-align: center;\n    border-radius: 3px;\n    margin-left: 50px;\n}\n.node-item-error{\n    background-color: crimson;\n}\n.node_key{\n    display: block;\n    overflow:hidden;\n    text-overflow: ellipsis;\n    max-width: 450px;\n}\n\n.node_role{\n    width:70px;\n    height: 20px;\n    background-color: rgba(119,131,143,.1);\n    color:#e6a23c;\n    text-align: center;\n    border-radius: 3px;\n    margin-left: 20px;\n    font-weight: bold;\n    border-top-right-radius: .25rem;\n    border-bottom-right-radius : .25rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius :0;\n    transition: .2s ease-in-out;\n    display: inline-block;\n}\n\n</style>"]}]}